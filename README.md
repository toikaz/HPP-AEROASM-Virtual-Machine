# Документация для AeroAssembler

## Общее описание
Данный скрипт реализует простую виртуальную машину (ВМ), которая интерпретирует и выполняет ассемблероподобные команды, загруженные из файла. ВМ использует регистры, память и поддерживает управление потоком исполнения через метки и переходы.

---

## Основные компоненты

### Регистры
- `R0` — `R9`: 10 регистров общего назначения.
  
### Память
- `M1` — `M9`: 9 ячеек памяти, хранящих целые значения.

### Метки
- Обнаруживаются в исходном файле строками, начинающимися с `_`.
- Служат для организации точек перехода.

---

## Входной файл
Файл с расширением `.aeroasm`, содержащий команды по формату:

- **Комментарии** недопускаются.
- **Метки**: строки вида `_ метка`.
- **Команды**: основные инструкции

---

## Поддерживаемые команды

| Команда        | Описание                                                      | Пример                        |
|----------------|--------------------------------------------------------------|------------------------------|
| `_ метка`     | Определение метки для переходов                               | `_ start`                   |
| `LOAD R1, M3`  | Загрузка из памяти M3 в регистр R1                            |                              |
| `STORE M2, R4` | Сохранение значения из R4 в память M2                          |                              |
| `MOV R2, R5`   | Передача значения из R5 в R2                                   |                              |
| `ADD R1, R2`   | Сложение R2 к R1, результат в R1                              |                              |
| `SUB R3, R4`   | Вычитание R4 из R3, результат в R3                              |                              |
| `MUL R1, R2`   | Умножение R1 на R2, результат в R1                              |                              |
| `DIV R3, R4`   | Деление R3 на R4, результат в R3                              |                              |
| `SET R1, 10`   | Установка R1 в число 10                                       |                              |
| `SET R1, GET`   | Ввод пользователя и установка в R1                                     |                              |
| `PRINT`        | Вывод значений регистров и памяти                                |                              |
| `PRINT_MEM M5` | Вывод значения памяти M5                                       |                              |
| `JMP label`    | Безусловный переход к метке                                   | `JMP start`                |
| `JZ R1, label` | Условный переход, если R1 == 0                                | `JZ R1, end`               |
| `JNZ R1, label`| Условный переход, если R1 != 0                               | `JNZ R1, loop`             |
| `SYSCALL filename` | Вызов внешних программ (используется для интеграции)        | `SYSCALL myprog`           |
| `PAUSE`        | Ожидание нажатия клавиши                                    |                              |
| `HALT`         | Завершение выполнения программы                               |                              |

---

## Замечания
- Вся программа работает в рамках одной сессии. После команды `HALT` выполнение прекращается.
- Внимательно следите за метками и переходами, чтобы избежать зацикливания.
- Вызов `SYSCALL` предполагает наличие внешних программ `hpp.exe` и `vvm.exe`, работающих с файлами по шаблону.

---

Если потребуется более подробное описание или примеры — обращайтесь!
